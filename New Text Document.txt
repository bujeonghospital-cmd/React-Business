BJH Bangkok – UX/UI → Database Mapping (Detailed Spec)
เอกสารฉบับนี้ออกแบบสำหรับทีม UX/UI และ Dev เพื่อให้เข้าใจตรงกันว่า “แต่ละหน้าในระบบ” อ่าน/เขียนข้อมูลจากตารางฐานข้อมูล (Database Table) ไหน และใช้ฟิลด์ใดบ้าง สามารถใช้เป็นฐานในการออกแบบหน้าจอ, API และ Flow การทำงานได้ทันที

1) หน้าข้อมูลลูกค้า (Customer Profile / Master)
หน้าจอนี้ใช้สำหรับเก็บข้อมูลพื้นฐานของลูกค้า เช่น ชื่อ, เบอร์โทร, ช่องทางที่มา, ที่อยู่ ใช้เวลาเปิดแฟ้ม, ลงทะเบียนครั้งแรก หรือแก้ไขข้อมูลลูกค้าในภายหลัง ข้อมูลหลักจะถูกบันทึกที่ตาราง n_customer 
ตารางและฟิลด์ที่เกี่ยวข้อง
•	- ตาราง n_customer (ข้อมูลลูกค้า) – บันทึก/แก้ไข
•	-   • recordno          → Running number ภายในระบบ
•	-   • code              → รหัสลูกค้า (ใช้แมปกับ HN/CN หรือรหัสจากระบบเดิม)
•	-   • cn                → CN/HN ของลูกค้า (ถ้ามีการใช้)
•	-   • prefix            → คำนำหน้า (คุณ, นาง, นางสาว, Mr., Mrs.)
•	-   • name, surname     → ชื่อลูกค้า, นามสกุล
•	-   • nickname          → ชื่อเล่น (ใช้ใน UI เพื่อความเป็นกันเอง)
•	-   • gender            → เพศ (M/F/อื่น ๆ ตามที่ออกแบบ)
•	-   • idcard            → เลขบัตรประชาชน/เลข Passport ถ้ามี
•	-   • birthdate         → วันเกิด (ใช้คำนวณอายุ)
•	-   • registerdate      → วันที่ลงทะเบียนครั้งแรกกับ BJH
•	-   • member            → รหัสสมาชิก / หมายเลขบัตรสมาชิก (ถ้ามี)
•	-   • cusgroup          → กลุ่มลูกค้า เช่น VIP, Regular, Staff family
•	-   • mobilephone       → เบอร์โทรหลักที่ใช้ติดต่อลูกค้า
•	-   • email             → อีเมล
•	-   • lineid            → LINE ID
•	-   • facebook          → Facebook profile หรือ URL
•	-   • medianame         → ช่องทางสื่อที่มา เช่น Facebook Ads, IG, TikTok, Walk-in
•	-   • disease           → โรคประจำตัว (ใช้โชว์ให้หมอ/พยาบาลตอน Visit)
•	-   • allergic          → ประวัติแพ้ยา/อาหาร/สารต่าง ๆ
•	-   • displayname       → ชื่อที่ใช้แสดงรวม (อาจ concat จาก prefix+name+surname)
•	-   • locno, soi, road, moo, tumbon, amphur, province, zipcode, address
•	-                        → ที่อยู่ลูกค้าแบบละเอียด ใช้สำหรับเอกสาร/จัดส่งของ/ของแถม
•	-   • ownercode, ownername → รหัส/ชื่อผู้ดูแลลูกค้าหลัก (เซลล์/พนักงาน)
•	-   • binddate          → วันที่ sync/import หรือสร้างข้อมูลนี้
2) หน้าข้อมูลบุคลากร (Staff / Doctor Master)
หน้าจอสำหรับจัดการข้อมูลบุคลากรในระบบ เช่น แพทย์, พนักงาน, ผู้ช่วย ใช้กำหนดสิทธิ์, ผูกเคส, ผูก Incentive และแสดงชื่อบนใบรายงาน/ใบเสร็จ/ใบอนุญาต ฯลฯ
ตารางและฟิลด์ที่เกี่ยวข้อง
•	- ตาราง b_doctor (ข้อมูลแพทย์) – บันทึกแพทย์ที่มีใบประกอบวิชาชีพ
•	-   • record_no         → Running number
•	-   • code              → รหัสแพทย์ (ใช้เชื่อมกับ visit, sale, doIncentive)
•	-   • username          → username ในระบบ (ถ้า login ผ่าน account นี้)
•	-   • prefix, name, surname, nickname → ข้อมูลชื่อ-นามสกุลแพทย์
•	-   • gender            → เพศแพทย์
•	-   • id_card           → เลขบัตรประชาชน
•	-   • license_no        → เลขใบประกอบวิชาชีพแพทย์ (สำคัญบนเอกสารทางการแพทย์)
•	-   • display_name      → ชื่อที่ใช้แสดงใน UI เช่น “นพ.กนกพล”
•	-   • address           → ที่อยู่ (ถ้าต้องแสดงในบางเอกสาร)
•	-   • bind_date         → วันที่บันทึก/อัปเดต
•	- 
•	- ตาราง n_staff (ข้อมูลพนักงาน/เจ้าหน้าที่) – แอดมิน, พยาบาล, เซลล์ ฯลฯ
•	-   • record_no         → Running number
•	-   • code              → รหัสพนักงาน
•	-   • username          → username สำหรับ login
•	-   • prefix, name, surname, nickname → ชื่อ-นามสกุล
•	-   • gender            → เพศ
•	-   • id_card           → เลขบัตรประชาชน
•	-   • license_no        → เลขใบประกอบวิชาชีพ (ถ้าเป็นพยาบาล/วิชาชีพอื่น)
•	-   • display_name      → ชื่อที่ใช้แสดงในระบบ เช่น “เจ”, “พี่ฟ้า”
•	-   • address           → ที่อยู่
•	-   • bind_date         → วันที่บันทึก
3) หน้าจัดการกลุ่มสินค้า และหน่วยนับ (Item Group & Unit Master)
ใช้สำหรับตั้งค่ากลุ่มสินค้า/บริการ และหน่วยนับที่ระบบจะใช้ในทุกหน้าที่เกี่ยวข้องกับรายการขาย, สต็อก และการคิดค่าตอบแทน
ตารางและฟิลด์ที่เกี่ยวข้อง
•	- ตาราง b_Unit (หน่วยนับ)
•	-   • recordno          → Running number
•	-   • code              → รหัสหน่วย เช่น 01, 02
•	-   • name              → ชื่อหน่วย เช่น เม็ด, ชิ้น, กล่อง
•	-   • binddate          → วันที่สร้าง/แก้ไขหน่วย
•	- 
•	- ตาราง b_ItemGroup (กลุ่มสินค้า/บริการ)
•	-   • recordno          → Running number
•	-   • groupcode         → รหัสกลุ่ม เช่น 0001, A, ZZ
•	-   • groupname         → ชื่อกลุ่ม เช่น ของใช้แม่บ้าน, เวชภัณฑ์, วงเงิน, ตัดถุงใต้ตา
•	-   • parentcode        → กลุ่มแม่ (ถ้าเป็นโครงสร้างหลายชั้น)
•	-   • pathcode          → Path code เช่น S\0001
•	-   • pathname          → Path name เช่น Stock\ของใช้แม่บ้าน
•	-   • binddate          → วันที่สร้าง/แก้ไข
4) หน้าตั้งค่ารายการหัตถการ/บริการ, เวชภัณฑ์, วงเงิน (Item Master)
หน้าจอศูนย์กลางในการจัดการ ‘สินค้าทางการแพทย์’ แบ่งออกเป็น 3 ประเภทหลัก: บริการ (Service), สต็อกเวชภัณฑ์ (Stock), วงเงิน/กระเป๋าเงิน/บัตรของขวัญ (Other/Wallet)
ตารางและฟิลด์ที่เกี่ยวข้อง
•	- ตาราง b_ItemService (บริการ / หัตถการ / คอร์ส) – เช่น ตัดถุงใต้ตา, เสริมจมูก, ย้ายไขมัน
•	-   • recordno          → Running number
•	-   • itemcode          → รหัสบริการ เช่น 9, SV-001
•	-   • itemname          → ชื่อบริการ เช่น ย้ายไขมันหนุนปิดร่องน้ำตา
•	-   • unitcount         → หน่วยหลัก เช่น ครั้ง, ข้าง (map -> b_unit)
•	-   • unitsale, unitpurchase → หน่วยที่ใช้ตอนขาย/ตอนซื้อ (ถ้าแยกกัน)
•	-   • ratiosale, ratiopurchase → อัตราแปลงหน่วย
•	-   • saleprice         → ราคาขาย
•	-   • purchaseprice     → ต้นทุน (ถ้ามี)
•	-   • groupcode, groupname → กลุ่มบริการ เช่น ตัดถุงใต้ตา
•	-   • typecode, typename → ประเภทบริการย่อย
•	-   • isstock           → 1 ถ้าเกี่ยวข้องกับสต็อก, ส่วนใหญ่จะเป็น 0
•	-   • isservice         → 1 (ระบุว่าเป็นบริการหลัก)
•	-   • iswallet          → 1 ถ้าเป็นคอร์ส/วงเงิน
•	-   • isdrug, islab, isequipment → แยกประเภทเพิ่มเติม
•	-   • ispackorder, ispackusage, ispackback → ใช้ในกรณีคิดเป็นแพ็ค
•	-   • issaleman, isdoman → มีค่าคอมเซลล์และค่าทำหัตถการหรือไม่
•	-   • iscourse          → 1 ถ้าเป็นคอร์ส (ทำหลายครั้ง)
•	-   • dotime            → เวลาที่ใช้ทำ (นาที) ใช้สำหรับจัดตารางหมอ
•	-   • binddate          → วันที่ตั้งค่ารายการ
•	- 
•	- ตาราง b_ItemStock (เวชภัณฑ์ / สินค้าคงคลัง) – เช่น เข็ม, ยา, อุปกรณ์
•	-   • ฟิลด์เหมือนกับ b_ItemService ในส่วน itemcode, itemname, unit*, ratio*, price*, group*, type*
•	-   • isstock           → 1 (เป็นของคงคลัง)
•	-   • isservice         → 0
•	-   • iswallet          → 0
•	-   • อื่น ๆ ดูตามโครงสร้างเดียวกับ b_ItemService
•	- 
•	- ตาราง b_ItemOther (วงเงิน / Wallet / Gift Voucher) – เช่น Gift Voucher, เครดิตวงเงิน
•	-   • recordno, itemcode, itemname
•	-   • unitcount, unitsale, unitpurchase (ส่วนใหญ่ว่าง/ไม่ได้ใช้)
•	-   • ratiosale, ratiopurchase, saleprice, purchaseprice (มักเป็น 0)
•	-   • groupcode, groupname → เช่น ZZ / วงเงิน
•	-   • typecode, typename
•	-   • iswallet          → 1 (ระบุว่าเป็นวงเงิน/กระเป๋าเงิน)
•	-   • isstock, isservice, isdrug, islab, isequipment → 0
•	-   • issaleman, isdoman → 1 ถ้าต้องนำไปคิดค่าคอม
•	-   • binddate          → วันที่ตั้งค่ารายการ
5) หน้าบันทึก Visit / ใบตรวจ / OPD (b_visit)
หน้าที่ใช้ตอนลูกค้าเข้ารับบริการในแต่ละเคส เช่น มาปรึกษา, มาผ่าตัด, มาตรวจติดตาม หน้าจอนี้จะบันทึกทั้งข้อมูลทางคลินิก (CC, PI, PE, Dx) และข้อมูลสิทธิ์/ค่าใช้จ่ายพื้นฐาน ใช้เป็นตัวกลางเชื่อมลูกค้า-แพทย์-รายการขาย-รายได้
ตารางและฟิลด์ที่เกี่ยวข้อง
•	- ตาราง b_visit (ข้อมูล Visit / ใบตรวจ) – บันทึก/แก้ไขจากหน้าจอนี้
•	-   • record_no         → Running number ของ visit
•	-   • code              → รหัส visit ภายใน (ถ้ามีการใช้ต่างจาก vn)
•	-   • vn                → Visit number (ใช้เชื่อมกับ b_saleitem, b_sale_account, n_doIncentive ฯลฯ)
•	-   • room_code         → ห้องตรวจ/ห้องผ่าตัดที่ใช้
•	-   • q_no              → เลขคิว (ถ้าใช้ระบบคิว)
•	-   • start_date, end_date → วันที่และเวลาที่เริ่ม/จบ visit
•	-   • finished          → สถานะจบเคสหรือยัง
•	-   • is_outlay, is_edit → flag พิเศษของระบบเดิม (ปรับใช้ตาม logic)
•	-   • come_day, come_count → จำนวนครั้งที่มา/ลักษณะวัน
•	-   • right_code, right_name → สิทธิ์การรักษา (ถ้าใช้)
•	-   • contact_code, contact_name, contact_card_no, contact_money
•	-                        → ผู้ติดต่อ/ผู้ออกเงินในบางกรณี
•	-   • emp_code, owner_code, doctor_code, cashier_code, nurse_code
•	-                        → บุคลากรที่เกี่ยวข้องกับ visit นี้
•	-   • doc_type          → ประเภทเอกสาร
•	-   • cn                → CN/HN ของคนไข้ (เชื่อมกับ n_customer.cn)
•	-   • display_name      → ชื่อที่ใช้แสดงในหน้าจอ/รายงาน
•	-   • height, weight, temperature, systolic, diastolic, pulse, respiratory
•	-                        → Vital signs ใช้แสดงบนหน้าตรวจ/ใบรายงานแพทย์
•	-   • cc (Chief Complaint) → อาการสำคัญที่มาพบแพทย์
•	-   • pi (Present Illness) → ประวัติอาการปัจจุบัน
•	-   • pe (Physical Exam)   → ผลตรวจร่างกาย
•	-   • dx (Diagnosis)       → การวินิจฉัยโรค/ปัญหา
•	-   • dnote, ultrasound_finding, ultrasound_diag, ultrasound_note
•	-                        → note ทางการแพทย์เพิ่มเติม
•	-   • note_day, note_outlay → โน้ตการนอน/ค่าใช้จ่ายอื่น ๆ
•	-   • is_alert_cer, is_alert_appoint → ใช้แจ้งเตือนใบรับรอง/นัดหมาย
•	-   • disease, sickness   → โรค/อาการที่เกี่ยวข้อง
•	-   • start_leave, end_leave → วันที่ลาป่วย (ถ้าออกใบรับรอง)
•	-   • lab_note, lab_person → บันทึกเกี่ยวกับ Lab
•	-   • finger_checked      → สถานะการตรวจลายนิ้วมือ (ถ้าใช้)
•	-   • is_sleep, is_mischance, is_work_back, is_home_back, is_refer, is_scene, is_assent
•	-                        → flag สถานะพิเศษต่าง ๆ (ปรับใช้ตาม Work Flow)
•	-   • note_result, note_refer → โน้ตผลการรักษา/การส่งต่อ
•	-   • time_in, time_out   → เวลาเข้า/ออกจริง
•	-   • writer_code, editor_code, delete_code, delete_note, delete_date
•	-                        → ใช้ audit trail ว่าใครเป็นคนบันทึก/แก้ไข/ลบ
•	-   • is_cancel           → สถานะยกเลิก visit หรือไม่
•	-   • organize, bind_code, bind_date → ใช้เชื่อมกับระบบ/องค์กรอื่น
•	-   • status              → สถานะ visit เช่น เปิด, ปิด, ยกเลิก
•	-   • o_sat, circum, morbid, is_observe, is_accident → ข้อมูลทางการแพทย์เพิ่มเติม
6) หน้าขาย/ลงรายการหัตถการและสินค้า (Sale Item per Visit)
หน้าจอนี้ใช้ตอนออกใบรายการขาย/ทำหัตถการในแต่ละ visit โดยผูกกับ vn และเลือก item จาก b_ItemService / b_ItemStock / b_ItemOther เพื่อลงจำนวนและยอดเงิน
ตารางและฟิลด์ที่เกี่ยวข้อง
•	- ตาราง b_saleitem – บันทึกรายการขายระดับบรรทัด (line item)
•	-   • record_no         → Running number ของบรรทัดขาย
•	-   • code              → รหัสเอกสารขาย (อาจเป็นเลขชุดเดียวกับใบเสร็จ หรือภายใน)
•	-   • vn                → เชื่อมกับ b_visit.vn (บอกว่าเป็นรายการของ visit ไหน)
•	-   • sale_date         → วันที่ขาย/ลงหัตถการ
•	-   • receipt_no        → เลขที่ใบเสร็จ/เอกสารทางการเงิน
•	-   • sale_code         → รหัสชุดการขาย (ใช้ grouping เคส/โปร)
•	-   • item_code, item_name → รหัส/ชื่อสินค้า/บริการที่เลือกจาก b_item*
•	-   • unit_sale         → หน่วยที่ใช้ขาย (เช่น ครั้ง, ชิ้น, คอร์ส)
•	-   • quantity          → จำนวนที่ขาย
•	-   • amount            → มูลค่ารวม (ก่อนส่วนลด/หลังส่วนลด ตาม logic เดิม)
•	-   • sale_type         → ประเภทการขาย (บริการ, สินค้า, คอร์ส ฯลฯ)
•	-   • is_stock          → 1 ถ้าหักสต็อก
•	-   • is_course         → 1 ถ้าเป็นคอร์ส
•	-   • income            → รายได้ที่รับรู้จากบรรทัดนี้ (ใช้เชื่อม n_income)
•	-   • payment           → วิธีชำระที่เกี่ยวข้อง (ถ้าลงระดับบรรทัด)
•	-   • cash, credit, transfer, contact, deposit → แจกแจงวิธีการชำระ
•	-   • pay_type          → ประเภทการจ่าย (สด/ผ่อน/โอน ฯลฯ)
•	-   • display_name      → ชื่อที่ใช้แสดงในรายงาน/เอกสาร
•	-   • organize          → รหัสองค์กร/ระบบที่เกี่ยวข้อง
7) หน้าชำระเงิน / ใบเสร็จ / สรุปยอด (Payment & Billing)
เมื่อกรอก b_saleitem ครบแล้ว ระบบจะมีหน้าชำระเงินเพื่อเก็บข้อมูลยอดจริง, วิธีการจ่าย, แตกยอดชำระ และโยงเข้า Income/บัญชีรายได้
ตารางและฟิลด์ที่เกี่ยวข้อง
•	- ตาราง b_sale_account – สรุปยอดขายระดับใบเสร็จ/การชำระ
•	-   • record_no         → Running number ใบขาย/ใบเสร็จ
•	-   • code              → รหัสเอกสารขาย
•	-   • vn                → เชื่อม visit
•	-   • sale_date         → วันที่ขาย/ออกใบเสร็จ
•	-   • receipt_no        → เลขที่ใบเสร็จทางการเงิน
•	-   • organize          → องค์กร/สาขาที่ออกใบเสร็จ
•	-   • item_code, item_name → ในบางกรณีเก็บรายการหลักของเอกสาร
•	-   • unit_sale         → หน่วยที่ใช้ในระดับเอกสาร (ถ้ามี)
•	-   • amount            → ยอดรวมก่อนแจกแจงจ่าย
•	-   • sale_real         → ยอดขายจริงหลังหักส่วนลด
•	-   • sale_acc          → ยอดที่ลงบัญชี
•	-   • cash, credit, transfer, contact, deposit → แจกแจงว่าใช้วิธีจ่ายอะไรเท่าไร
•	-   • deduct            → ส่วนลด/หักยอด
•	-   • pay_type          → ประเภทการชำระ
•	-   • payment           → channel การจ่าย เช่น Cash, QR, Transfer, Card
•	-   • bind_code, bind_date → ใช้เชื่อมกับระบบบัญชี/ระบบภายนอก
•	-   • transfer_bank_code, transfer_bank_name → ธนาคารที่โอน
•	-   • parent_vn, parent_no → ใช้ในกรณีเป็นเอกสารลูกของ visit/เอกสารอื่น
•	-   • cn                → CN/HN ลูกค้า
•	-   • display_name      → ชื่อที่แสดงในรายงาน
•	- 
•	- ตาราง n_income – สรุปรายได้ในมุมการบัญชี/Finance
•	-   • record_no         → Running number
•	-   • code              → รหัสรายการรายได้/ชุดเอกสาร
•	-   • vn                → เชื่อม visit
•	-   • sale_date         → วันที่รับรู้รายได้
•	-   • amount            → ยอดรวมก่อนแยกประเภท
•	-   • income            → รายได้สุทธิ
•	-   • payment           → วิธีการจ่าย
•	-   • cash, credit, transfer, contact, deposit → แจกแจงตามช่องทาง
•	-   • receipt_no        → เลขใบเสร็จ
•	-   • display_name      → รายการอธิบายรายได้
•	-   • organize          → องค์กร/สาขา
•	-   • bind_date         → วันที่ลงบันทึกรายได้
8) หน้าจอคอมมิชชั่นเซลล์ (Sales Incentive)
ใช้สำหรับคำนวณและตรวจสอบค่าคอมมิชชั่นให้เซลล์หรือผู้ขาย โดยอิงจากยอดขาย, ประเภทสินค้า, เปอร์เซ็นต์ตามโปรแกรมที่กำหนด และสถานะการจ่าย
ตารางและฟิลด์ที่เกี่ยวข้อง
•	- ตาราง b_saleIncentive – คอมเซลล์/ผู้ขาย (ระดับบรรทัด)
•	-   • record_no         → Running number
•	-   • code              → รหัสเอกสารคอม
•	-   • vn                → เชื่อม visit
•	-   • sale_code         → รหัสชุดการขาย
•	-   • inc_code          → รหัสประเภทคอมมิชชั่น
•	-   • emp_code, emp_name → รหัส/ชื่อพนักงานที่ได้คอม
•	-   • item_type         → ประเภทสินค้า/บริการที่นำมาคิดคอม
•	-   • item_code, item_name → รายการที่ได้คอม
•	-   • inc_name          → ชื่อคอมมิชชั่น
•	-   • sale_date         → วันที่เกิดยอดขาย
•	-   • percen, dpercen   → เปอร์เซ็นต์คอม
•	-   • constant, dconstant → ค่าคอมแบบ Fix amount
•	-   • partake, net_partake → การแบ่งส่วนคอม (กรณีมีหลายคนแชร์กัน)
•	-   • writer_code       → ใครเป็นคนคีย์
•	-   • is_cancel         → ยกเลิกรายการคอมนี้หรือไม่
•	-   • organize, bind_code, bind_date → เชื่อม/วันที่
•	-   • status            → สถานะคอม (รอจ่าย, จ่ายแล้ว ฯลฯ)
•	-   • pay_type          → วิธีการจ่ายคอม
•	-   • is_define         → เป็นคอมตามโปรแกรมที่กำหนดไว้หรือไม่
•	-   • income            → รายได้อ้างอิงที่นำมาคำนวณคอม
•	-   • total             → ยอดคอมรวมที่ควรได้รับ
9) หน้าจอคอมมิชชั่นหมอ / หัตถการ (Doctor Incentive / Procedure Sharing)
ใช้จัดการค่าตอบแทนแพทย์/ผู้ทำหัตถการจากยอดขายบริการหรือคอร์ส เช่น แบ่งเปอร์เซ็นต์ต่อเคส
ตารางและฟิลด์ที่เกี่ยวข้อง
•	- ตาราง n_doIncentive – ค่าตอบแทนหมอจากเคส/รายการ
•	-   • record_no         → Running number
•	-   • code              → รหัสเอกสารคอมหมอ
•	-   • vn                → เชื่อม visit
•	-   • sale_code         → รหัสชุดการขาย
•	-   • inc_code          → รหัสประเภทคอมหมอ
•	-   • emp_code, emp_name → รหัส/ชื่อแพทย์ที่ได้รับคอม
•	-   • item_type         → ประเภท item (service/stock/other)
•	-   • item_code, item_name → รายการที่ใช้คิดคอม
•	-   • inc_name          → ชื่อประเภทค่าตอบแทน
•	-   • sale_date         → วันที่ทำหัตถการ/ขาย
•	-   • percent_share     → เปอร์เซ็นต์ส่วนแบ่ง
•	-   • constant_amt      → ค่าตอบแทนแบบ fix amount
•	-   • partake, net_partake → การแบ่งค่า among หลายคน
•	-   • writer_code       → ผู้บันทึก
•	-   • is_cancel         → ยกเลิกรายการนี้หรือไม่
•	-   • organize, bind_code, bind_date → เชื่อม/วันที่
•	-   • status            → สถานะการจ่าย
•	-   • pay_type          → วิธีจ่ายค่าตอบแทน
•	-   • is_define         → เป็นค่าตามโปรแกรมที่กำหนดไว้
•	-   • total             → ยอดรวมค่าตอบแทน
•	- 
•	- ตาราง n_do_course – ใช้เก็บรายละเอียดคอร์สของหมอ (กรณีบริการเป็นคอร์ส)
•	-   • record_no, code, vn, sale_date, receipt_no
•	-   • sale_code         → รหัสชุดขายคอร์ส
•	-   • item_code, item_name → คอร์สที่ทำ
•	-   • unit_sale, quantity → จำนวนครั้ง/หน่วยของคอร์ส
•	-   • parent_sale       → อ้างอิงเอกสารแม่
•	-   • value             → มูลค่าหรือจำนวนที่เหลือในคอร์ส
10) สรุป Mapping ตาม Flow การใช้งานหลัก
เพื่อให้ทีม UX/UI เห็นภาพรวมว่า “จากมุมมองคนใช้งานหน้าเคาน์เตอร์/หน้าหมอ” ต้องบันทึกอะไรลงตารางไหนบ้าง สามารถสรุป Flow ได้ดังนี้:

1.	เมื่อลูกค้าใหม่เข้าระบบครั้งแรก → ใช้หน้า Customer Profile → บันทึกลง n_customer (ข้อมูลตัวตน, เบอร์, ช่องทาง, โรคประจำตัว, แพ้ยา, ที่อยู่, ผู้ดูแลลูกค้า)
2.	เมื่อลูกค้ามาใช้บริการ (Consult/ผ่าตัด/Follow-up) → เปิด Visit ใหม่ → บันทึกลง b_visit (เชื่อม cn จาก n_customer, ระบุ doctor_code, vital signs, CC/PI/PE/Dx, note ต่าง ๆ)
3.	เมื่อเลือกหัตถการ/บริการ/ยา/เวชภัณฑ์ให้ลูกค้า → เลือกจาก Item Master (b_ItemService, b_ItemStock, b_ItemOther) และลงบรรทัดขายใน b_saleitem โดยผูกกับ vn เคสนั้น
4.	เมื่อถึงขั้นตอนชำระเงิน → ใช้หน้า Payment/Billing → สร้าง/อัปเดตข้อมูลใน b_sale_account (สรุปยอด, วิธีการจ่าย) และ n_income (บันทึกรายได้)
5.	หลังปิดการขาย → ระบบคำนวณและ/หรือบันทึกคอมมิชชั่นอัตโนมัติหรือจากหน้าจอคอม → ลง b_saleIncentive สำหรับเซลล์ และ n_doIncentive + n_do_course สำหรับหมอ/ผู้ทำหัตถการ
